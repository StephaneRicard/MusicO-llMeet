################################################################################
# Fichier de test des routes HTTP de l'API
# Nécessite l'extension REST Client pour VSCode
# https://marketplace.visualstudio.com/items?itemName=humao.rest-client
################################################################################
@endpoint = http://localhost:{{$dotenv PORT}}/

################################################################################
####  MOMERS ####

### Liste des momers

GET {{endpoint}}api/momers
Authorization: token 


### Liste pour 1 momer

GET {{endpoint}}api/momers/1
Authorization: token

#################################################################################
#### MUSICOS ####

### liste des musicos
GET {{endpoint}}api/musicos
Authorization: token 

### liste pour 1 musicos
GET {{endpoint}}api/musicos/25
Authorization: token 

###################################################################################
#### EVENT PUBLIE ####

### LIste des events publiés

GET {{endpoint}}api/
Authorization: token 

### Liste de 1 event

GET {{endpoint}}api/2

###################################################################################
#### ANNONCE ####

### Récupérer la liste des annonces

GET {{endpoint}}api/ads
Authorization: token  

### Récupérer 1 annonce

GET {{endpoint}}api/ads/1
Authorization: token 

### créer une annonce

POST {{endpoint}}api/ads
Authorization: token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibmFtZSI6ImZyYW5jb2lzIiwicGljdHVyZV91cmwiOiJodHRwczovL2kucGluaW1nLmNvbS83MzZ4L2IzLzIxL2E1L2IzMjFhNThmYTYyNTcxNjIzYjEyZmVmYjRiODlkMjMwLmpwZyIsImNpdHkiOiJseW9uIiwiZW1haWwiOiJmcmFuY29pc0BtYWlsLmZyIiwicGFzc3dvcmQiOiIkMmEkMTIkczNEbW9YeVQzd2huc2EwZElGa3VBdWR5MXJOL0M5MVN5VS5mM1NZZDJGWGp4MXZRcXNEUDYiLCJwaG9uZSI6IiszMzc3MDQxMTQ5NyIsImFkZHJlc3MiOiI5IHJ1ZSBkdSBnZW5lcmFsIGRvdWZpbiIsImNvdW50eSI6InJob25lIiwicm9sZSI6Im1vbWVyIiwiZGVzY3JpcHRpb24iOiJiYXIgYmllbiBmcmVxdWVudGUgcGFyIGxlcyBib29tZXJzIiwibXVzaWNpYW5zX251bWJlciI6bnVsbCwiZ3JvdXBfbGVhZGVyIjpudWxsLCJleHRlcm5hbF91cmwiOiJsaWVuIGV4dGVybmUxIG1vbWVyIiwibW9tZXJfdG9fY29udGFjdCI6ImZyYW5jb2lzIiwibW9tZXJfdHlwZV9pZCI6MSwiY3JlYXRlZF9hdCI6IjIwMjItMDgtMzBUMTM6NDM6MDEuMzgyWiIsInVwZGF0ZWRfYXQiOm51bGwsImlhdCI6MTY2MjM2MjExMCwiZXhwIjoxNjYyNDYyMTEwfQ.vrskOuHXChgi5jIhxtr-fa-EtUGFnjImXkjuj9gcVnE
content-type: application/json

{
    "name" : "testad",
    "description": "testad",
    "picture_url": "testad", 
    "owner_id": 1,
    "address": "testad",
    "county": "testad", 
    "event_date": "2022-08-25 14:34:45.13344+02", 
    "external_link": "testad", 
    "event_type": "testad",
    "type_of_music_needed": "testad"
}

##################################################################################
#### USER ####

### enregistrer un user
POST {{endpoint}}api/signup
content-type: application/json

{
    "name": "test momer",
    "email": "te@mail.fr",
    "city": "Paris",
    "county": "Paris",
    "role": "musicos",
    "password": "D111azea",
    "password2": "D111azea"
}

### Visualiser son profil
GET {{endpoint}}api/profile
Authorization: token 

### Modifier son profil
PATCH {{ endpoint }}api/profile
Authorization: token 
content-type: application/json

{
    "name": "name3",
    "picture_url": "picture_url3",
    "city":"city3",
    "email":"email@email3.fr",
    "password":"password3",
    "phone":"0303030303",
    "address":"address3",
    "county":"county3",
    "description":"description3",
    "external_url": "external_url3",
    "momer_to_contact":"momer3",
    "group_leader": "test",
    "momer_type_id": 2,
    "musical_type": [1, 2]
}



### Supprimer de son profil

DELETE {{endpoint}}api/profile
Authorization: token 

### connexion d'un momer
POST {{endpoint}}api/signin
content-type: application/json

{
    "email": "francois@mail.fr",
    "password": "111"
}

###connexion d'un musicos
POST {{endpoint}}api/signin
content-type: application/json

{
    "email": "claudine@mail.fr",
    "password": "111"
}

#####################################################################################
#### MES ANNONCES #####

### Visualiser mes annonces
GET {{endpoint}}api/myads
Authorization: token 

### Visualiser une des mes annonces
GET {{endpoint}}api/myads/12
Authorization: token 
### Supprimer une annonce
DELETE {{endpoint}}api/myads/5
Authorization: token 

### Modification d'une annonce

PATCH {{endpoint}}api/myads/3
Authorization: token 
content-type: application/json 

{
    "name": "test1",
    "description":"test",
    "picture_url":"test",
    "address": "test",
    "is_published": false,
    "is_archived": false,
    "county": "test",
    "event_date": "2022-08-25 14:34:45.13344+02",
    "external_link": "test",
    "event_type": "test",
    "type_of_music_needed": "test"
}

### Visualiser une candidature à une de mes annonces
GET {{endpoint}}api/myads/1/3
Authorization: token

### Modifier le statut d'un candidature à une de mes annonces

PATCH {{endpoint}}api/myads/1/3
Authorization: token 
content-type: application/json 

{
    "candidate_status_id": 3
}

######################################################################################
#### MES EVENTS ####

### Visualiser mes events
GET {{endpoint}}api/myevents
Authorization: token 

### Visualiser une des mes event
GET {{endpoint}}api/myevents/15
Authorization: token 


### Supprimer un event
DELETE {{endpoint}}api/myevents/2
Authorization: token 

### Modification d'un event

PATCH {{endpoint}}api/myevents/4
Authorization: token 
content-type: application/json

{
    "name": "test",
    "description":"test",
    "picture_url":"test",
    "address": "test",
    "is_published": true,
    "is_archived": false,
    "county": "test",
    "event_date": "2022-08-25 14:34:45.13344+02",
    "external_link": "test",
    "event_type": "test",
    "type_of_music_needed": "test"
}

######################################################################################
#### MES CANDIDATURES ####

### Visualiser mes candidatures
GET {{endpoint}}api/myapplications
Authorization: token 

### Visualiser une des mes candidature

GET {{endpoint}}api/myapplications/2
Authorization: token 

### Supprimer une candidature
DELETE {{endpoint}}api/myapplications/2
Authorization: token 



