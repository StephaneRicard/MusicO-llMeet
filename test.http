################################################################################
# Fichier de test des routes HTTP de l'API
# Nécessite l'extension REST Client pour VSCode
# https://marketplace.visualstudio.com/items?itemName=humao.rest-client
################################################################################
@endpoint = http://localhost:{{$dotenv PORT}}/

################################################################################
####  MOMERS ####

### Liste des momers

GET {{endpoint}}api/momers
?county[]=
Authorization: token 


### Liste pour 1 momer

GET {{endpoint}}api/momers/1
Authorization: token 

#################################################################################
#### MUSICOS ####

### liste des musicos
GET {{endpoint}}api/musicos
Authorization: token 

### liste pour 1 musicos
GET {{endpoint}}api/musicos/6
Authorization: token 

###################################################################################
#### EVENT PUBLIE ####

### LIste des events publiés

GET {{endpoint}}api/
?county[]=county2 event

### Liste de 1 event

GET {{endpoint}}api/2

###################################################################################
#### ANNONCE ####

### Récupérer la liste des annonces

GET {{endpoint}}api/ads
Authorization: token 

### Récupérer 1 annonce

GET {{endpoint}}api/ads/1
Authorization: token 

### créer une annonce

POST {{endpoint}}api/ads
Authorization: token 
content-type: application/json

{
    "name" : "testad",
    "description": "testad",
    "picture_url": "testad", 
    "owner_id": 1,
    "address": "testad",
    "county": "testad", 
    "event_date": "2022-08-25 14:34:45.13344+02", 
    "external_link": "testad", 
    "event_type": "testad",
    "type_of_music_needed": "testad"
}

##################################################################################
#### USER ####

### enregistrer un user
POST {{endpoint}}api/signup
content-type: application/json

{
    "name": "test momer",
    "email": "test@mail.fr",
    "city": "Paris",
    "county": "Paris",
    "role": "momer",
    "password": "111",
    "password2": "111"
}

### Visualiser son profil
GET {{endpoint}}api/profile
Authorization: token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywibmFtZSI6Im5hbWUxIG11c2ljb3MiLCJwaWN0dXJlX3VybCI6ImltYWdlMSBtdXNpY29zIiwiY2l0eSI6ImNpdHkxIG11c2ljb3MiLCJlbWFpbCI6Im11c2ljb3MxQG1haWwuZnIiLCJwYXNzd29yZCI6IiQyYSQxMiRzM0Rtb1h5VDN3aG5zYTBkSUZrdUF1ZHkxck4vQzkxU3lVLmYzU1lkMkZYangxdlFxc0RQNiIsInBob25lIjoicGhvbmUgMSBtdXNpY29zIiwiYWRkcmVzcyI6ImFkcmVzc2UxIG11c2ljb3MiLCJjb3VudHkiOiJjb3VudHkxIG11c2ljb3MiLCJyb2xlIjoibXVzaWNvcyIsImRlc2NyaXB0aW9uIjoiZGVzY3JpcHRpb24xIG11c2ljb3MiLCJtdXNpY2lhbnNfbnVtYmVyIjozLCJncm91cF9sZWFkZXIiOiJsZWFkZXIxIG11c2ljb3MiLCJleHRlcm5hbF91cmwiOiJtdXNpY29zMSBsaWVuIGV4dGVybmUiLCJtb21lcl90b19jb250YWN0IjpudWxsLCJtb21lcl90eXBlX2lkIjpudWxsLCJjcmVhdGVkX2F0IjoiMjAyMi0wOC0yNlQwOTo0Mzo0NC4wODhaIiwidXBkYXRlZF9hdCI6bnVsbCwiaWF0IjoxNjYxNTA3MDM2LCJleHAiOjE2NjE1MjUwMzZ9._sCLE0SHENJY7QmuFaNsBuho7Uwq7v6-QYnyeSj2jGA

### Modifier son profil
PATCH {{ endpoint }}api/profile
Authorization: token 
content-type: application/json

{
    "name": "name3",
    "picture_url": "picture_url3",
    "city":"city3",
    "email":"email3@email3.fr",
    "password":"password3",
    "phone":"0303030303",
    "address":"address3",
    "county":"county3",
    "description":"description3",
    "external_url": "external_url3",
    "momer_to_contact":"momer3",
    "momer_type_id": 2
}



### Supprimer de son profil

DELETE {{endpoint}}api/profile
Authorization: token 

### connexion d'un momer
POST {{endpoint}}api/signin
content-type: application/json

{
    "email": "momer2@mail.fr",
    "password": "111"
}

###connexion d'un musicos
POST {{endpoint}}api/signin
content-type: application/json

{
    "email": "musicos1@mail.fr",
    "password": "111"
}

#####################################################################################
#### MES ANNONCES #####

### Visualiser mes annonces
GET {{endpoint}}api/myads
Authorization: token 

### Visualiser une des mes annonces
GET {{endpoint}}api/myads/1
Authorization: token 


### Supprimer une annonce
DELETE {{endpoint}}api/myads/5
Authorization: token 

### Modification d'une annonce

PATCH {{endpoint}}api/myads/3
Authorization: token 
content-type: application/json

{
    "name": "test",
    "description":"test",
    "picture_url":"test",
    "address": "test",
    "is_published": true,
    "is_archived": false,
    "county": "test",
    "event_date": "2022-08-25 14:34:45.13344+02",
    "external_link": "test",
    "event_type": "test",
    "type_of_music_needed": "test"
}

######################################################################################
#### MES EVENTS ####

### Visualiser mes events
GET {{endpoint}}api/myevents
Authorization: token 

### Visualiser une des mes event
GET {{endpoint}}api/myevents/1
Authorization: token 


### Supprimer un event
DELETE {{endpoint}}api/myevents/5
Authorization: token 

### Modification d'un event

PATCH {{endpoint}}api/myevents/3
Authorization: token 
content-type: application/json

{
    "name": "test",
    "description":"test",
    "picture_url":"test",
    "address": "test",
    "is_published": true,
    "is_archived": false,
    "county": "test",
    "event_date": "2022-08-25 14:34:45.13344+02",
    "external_link": "test",
    "event_type": "test",
    "type_of_music_needed": "test"
}

######################################################################################
#### MES CANDIDATURES ####

### Visualiser mes candidatures
GET {{endpoint}}api/myapplications
Authorization: token 

### Visualiser une des mes candidature
GET {{endpoint}}api/myapplications/1
Authorization: token 

### Supprimer une candidature
DELETE {{endpoint}}api/myapplications/5
Authorization: token



